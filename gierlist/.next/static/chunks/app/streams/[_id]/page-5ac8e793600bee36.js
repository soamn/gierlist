(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{1957:function(e,s,a){Promise.resolve().then(a.bind(a,2037))},2037:function(e,s,a){"use strict";a.r(s);var t=a(7437),r=a(8472),l=a(3915),n=a(2265);s.default=e=>{let{params:s}=e,[a,c]=(0,n.useState)(null),[i,o]=(0,n.useState)(!1),u=(0,n.useRef)(null),d=async()=>{if(!s._id){console.log(s._id);return}try{let e=await r.Z.get("/api/stream/live?of=".concat(s._id));if(e.data.success){if(c(e.data.stream),o(!0),l.ZP.isSupported()){let s=new l.ZP;s.loadSource(e.data.mediaurl),s.attachMedia(u.current),s.on(l.ZP.Events.MANIFEST_PARSED,()=>{u.current.play()})}}else console.error("Stream not available")}catch(e){console.error("Error fetching the stream",e)}};return((0,n.useEffect)(()=>{d()},[]),a)?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white p-6 flex",children:[(0,t.jsxs)("div",{className:"w-1/2",children:[(0,t.jsx)("video",{ref:u,controls:!0,className:"w-full h-auto"}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:a.streamName}),(0,t.jsx)("p",{className:"text-gray-400",children:a.streamDescription}),(0,t.jsxs)("p",{className:"text-gray-500",children:["by ",a.user.username]})]})]}),(0,t.jsx)("div",{className:"w-1/2 pl-6"})]}):(0,t.jsx)("div",{children:"Loading..."})}}},function(e){e.O(0,[404,472,971,23,744],function(){return e(e.s=1957)}),_N_E=e.O()}]);